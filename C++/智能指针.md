## 特殊情形
父类继承了 `std::enable_shared_from_this`，子类需要使用 `shared_from_this()`，此时需要强转：
```cpp
class Base : public std::enable_shared_from_this<Base>  
{  
  public:  
    virtual ~Base() = default;  
    virtual void func()  
    {  
        std::cout << "Base\n";  
    }  
};  
class Derived : public Base  
{  
  public:  
    void func() override  
    {  
        std::cout << "Derived\n";  
    }  
    void func1()  
    {  
        std::cout << "Deriverd func1\n";  
    }  
    ~Derived() override = default;  
    void self()  
    {  
        auto base = std::dynamic_pointer_cast<Derived>(shared_from_this());  
        auto weak = std::weak_ptr<Derived>(base);  
        auto self = weak.lock();  
        if (self)  
        {  
            std::cout << "self\n";  
            self->func1();  
        }  
    }  
};
```