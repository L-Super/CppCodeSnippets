## 创建`CMakeLists.txt`

**NOTE**:文件的名称区分大小写，必须命名为 CMakeLists.txt ，CMake才能够解析。

```cmake
cmake_minimum_required(VERSION 3.20)
project(demo)
set(CMAKE_CXX_STANDARD 17)
add_executable(hello-world hello-world.cpp)
```

1. 设置CMake所需的最低版本。

2. 声明了项目的名称( demo )

3. 设置C++ 语言标准

4. 指示CMake创建一个新目标：可执行文件 hello-world 。通过编译和链接源文件 hello-world.cpp 生成的。

TIPS：CMake中，C++是默认的编程语言。可以使用 `LANGUAGES` 选项在 `project()` 命令中显式地声明项目的语言。

## 构建编译

### 常规方式

```shell
$ mkdir -p build
$ cd build
$ cmake ..
$ make -j4
```

创建了一个目录 build (生成构建器的位置)，进入 build 目录，并通过指定 CMakeLists.txt 的位置(本例中位于父目录中)来调用CMake。

### 跨平台方式

```shell
cmake -B build
```

执行完成后，在项目的根目录下会创建build目录，可以看到其中生成了Makefile文件。3 执行构建
还是在cmake-template目录下，执行以下命令：cmake --build build
因为使用的是make工具，所以也可以在build目录直接执行make命令：cd build && make && cd -

可以使 用以下命令行来实现相同的效果：

```shell
$ cmake -H. -Bbuild
```

-H 表示当前目录中搜索 根 CMakeLists.txt 文件。 -Bbuild 告诉CMake在一个名为 build 的目录中生成所有的文件。

