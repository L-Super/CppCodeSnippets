图形渲染管线（Graphics Pipeline，大多译为管线，实际上指的是一堆原始图形数据途经一个输送管道，期间经过各种变化处理最终出现在屏幕的过程）管理的。
图形渲染管线可以被划分为两个主要部分：第一部分把你的3D 坐标转换为2D 坐标，第二部分是把2D 坐标转变为实际的有颜色的像素。

图形渲染管线的每个阶段的抽象展示。蓝色部分代表的是我们可以注入自定义的着色器的部分。

![](../images/OpenGL_Graphics_Pipeline.png)


图形渲染管线的第一个部分是顶点着色器 (Vertex Shader)，它把一个单独的顶点作为输入。顶点着色器主要的目的是把3D 坐标转为另一种3D 坐标，同时顶点着色器允许我们对顶点属性进行一些基本处理。

顶点着色器阶段的输出可以选择性地传递给几何着色器 (Geometry Shader)。几何着色器以一组顶点作为输入，这些顶点形成一个基本图元，并且能够通过发出新的顶点来形成新的 (或其他)图元来生成其他形状。

图元装配 (Primitive Assembly)阶段以顶点着色器（或几何着色器）中的所有顶点作为输入（如果是 GL_POINTS，那么就是一个顶点），并将所有的点装配成指定图元的形状；

图元装配阶段的输出会被传入光栅化阶段(Rasterization Stage)，这里它会把图元映射为最终屏幕上相应的像素，生成供片段着色器(Fragment Shader)使用的片段(Fragment)。在片段着色器运行之前会执行裁切(Clipping)。裁切会丢弃超出你的视图以外的所有像素，用来提升执行效率。

> OpenGL 中的一个片段是 OpenGL 渲染一个像素所需的所有数据。

片段着色器的主要目的是计算一个像素的最终颜色，这也是所有OpenGL高级效果产生的地方。通常，片段着色器包含3D场景的数据（比如光照、阴影、光的颜色等等），这些数据可以被用来计算最终像素的颜色。

在所有对应颜色值确定以后，最终的对象将会被传到最后一个阶段，我们叫做 Alpha 测试和混合 (Blending)阶段。这个阶段检测片段的对应的深度（和模板 (Stencil)）值，用它们来判断这个像素是其它物体的前面还是后面，决定是否应该丢弃。这个阶段也会检查 alpha 值（alpha 值定义了一个物体的透明度）并对物体进行混合 (Blend)。所以，即使在片段着色器中计算出来了一个像素输出的颜色，在渲染多个三角形的时候最后的像素颜色也可能完全不同。

